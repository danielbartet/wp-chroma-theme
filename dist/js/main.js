"use strict";function doesExist(e){if(null!=e)return!0}var allimages,ct;function lazyLoadController(){var t=document.getElementsByClassName("llreplace");function e(){for(var e=0;e<t.length;)inView(t[e])?(lazyLoadImage(t[e]),t[e].classList.remove("llreplace")):e++}e(),0<t.length&&window.addEventListener("scroll",function(){e()})}function inView(e){var e=e.getBoundingClientRect(),t=document.documentElement;return 0<=e.top&&-100<=e.left&&e.bottom<=620+(window.innerHeight||t.clientHeight)&&e.right<=2640+(window.innerWidth||t.clientWidth)}function lazyLoadImage(e){e.getAttribute("data-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-srcset")),e.removeAttribute("data-srcset")),e.getAttribute("data-src")&&(e.setAttribute("src",e.getAttribute("data-src")),e.removeAttribute("data-src")),e.classList&&e.classList.add("reveal")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ready(e){"loading"!=document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&e()})}0<document.getElementsByClassName("llreplace").length&&(allimages=document.getElementsByClassName("llreplace"))[allimages.length-1].addEventListener("load",lazyLoadController());var main=function(){menuNavigation(),mobileMenuScrollFix(),searchToggle(),enableActiveStateiOS(),rippleClick(),lightBox(),sizeTable(),footerMargin(),WidthChange(1100);var e=new scrollAnchors;scrollListenerCallBacks(void 0),e.init(),void 0!==document.getElementsByClassName("single")[0]&&null!=document.getElementsByClassName("single")[0]&&(catchAsideAd(),engagementBar(),calculateSidebar(1100),ct=new commentToggle,void 0!==document.getElementsByClassName("how-to")[0]&&null!=document.getElementsByClassName("how-to")[0]&&window.innerWidth<560&&new anchorMapScroller,carouselNav()),7<document.getElementsByClassName("social-sharing-controller").length&&new socialShareMaster,null!=(e=document.querySelector(".load-more-wrap"))&&void 0!==e&&new InfiniteScroll(e)};function isAdjacent(e,t){var n=document.querySelectorAll(e)[0],e=document.querySelectorAll(e+" + "+t)[0];return n.nextSibling.textContent.trim().length?n.nextSibling===e:n.nextElementSibling===e}function enableActiveStateiOS(){if(/iPad|iPhone|iPod/.test(navigator.userAgent))for(var e=document.querySelectorAll("html"),t=function(){},n=0;n<e.length;n++)e[n].addEventListener("touchstart",t,!1)}function debounce(o,c,l){var i;return function(){var e=this,t=arguments,n=l&&!i;clearTimeout(i),i=setTimeout(function(){i=null,l||o.apply(e,t)},c),n&&o.apply(e,t)}}function ForEach(e,t){for(var n=0,o=e.length;n<o;n++)t(e[n])}function menuNavigation(){var o=document.getElementsByClassName("hamburger"),c=null;[].forEach.call(o,function(e){e.addEventListener("click",function(e){null==c&&((c=document.createElement("link")).href="/wp-content/themes/chroma/dist/css/mobile-menu-background.css",c.type="text/css",c.rel="stylesheet",c.media="all",document.getElementsByTagName("head")[0].appendChild(c));var t=document.getElementById("overlay-menu"),n=([].forEach.call(o,function(e){e.classList.toggle("is-active")}),t.classList.toggle("overlay-menu-animation"),document.body.classList.toggle("noscroll"),document.documentElement.classList.toggle("noscroll"),t.querySelectorAll("nav, .nav-social-portals")),n=([].forEach.call(n,function(e){e.classList.toggle("open")}),t.querySelectorAll("nav li, .nav-social-portals"));[].forEach.call(n,function(e){e.classList.toggle("menu-li-stop")}),document.getElementById("main-nav-cont").classList.toggle("main-nav-hide")})})}function searchToggle(){var t=document.getElementById("search-button"),n=document.querySelector(".search-bar"),o=document.querySelectorAll(".search-bar input"),c=!0;Array.prototype.forEach.call(o,function(e){e.setAttribute("disabled",c)}),t&&void 0!==t&&t.addEventListener("click",function(e){t.classList.toggle("is-active"),n.classList.toggle("is-active"),(c=!c)?Array.prototype.forEach.call(o,function(e){e.setAttribute("disabled",c)}):Array.prototype.forEach.call(o,function(e){e.removeAttribute("disabled")})})}ready(main);var commentToggle=function(){var l=this,i=null,a=null,t=!1,e=(this.createCommentComponent=function(e){var t,n,o,c;store.getState().commentStatus||(store.dispatch({type:"commentOn"}),t=document.createElement("span"),n=document.createElement("button"),o=document.createElement("div"),c=document.getElementsByTagName("body")[0],o.id="disqus_thread",(i=document.createElement("div")).classList.add("comments-area"),(a=document.createElement("div")).classList.add("comments_overlay"),t.classList.add("comments_title"),n.setAttribute("class","comments_close box-shadow-default"),t.innerHTML="Comments",t.appendChild(n),i.appendChild(t),i.appendChild(o),i.id="comments",i.setAttribute("name","comments"),c.appendChild(a),c.appendChild(i),l.disqus(),n.addEventListener("click",function(e){i.classList.toggle("is-active"),a.classList.toggle("is-active")}),a.addEventListener("click",function(e){i.classList.toggle("is-active"),a.classList.toggle("is-active")}))},this.disqus=function(){var e;t||(t=!0,(e=document.createElement("script")).type="text/javascript",e.async=!0,e.src="//idropnews.disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e))},document.querySelectorAll(".comments-icon, #comments-anchor"));doesExist(e)&&[].forEach.call(e,function(e){"comments-anchor"!=e.id&&(null!=e.nextSibling&&"P"!=e.nextSibling.nodeName?e.classList.add("expand"):"content-main"!==e.parentNode.id&&(e.classList.add("expand"),document.getElementById("content-main").appendChild(e))),e.addEventListener("click",function(e){e.preventDefault(),l.createCommentComponent(e.target.parentNode),null!=i&&(i.classList.toggle("is-active"),a.classList.toggle("is-active"))})})},engagementBar=function(){var n,o;document.getElementById("resize-plus")&&void 0!==document.getElementById("resize-plus")&&(n=0,o=1.11563,document.getElementById("resize-plus").addEventListener("click",function(e){var t;2<=n||(3==n?o-=.095:o+=.095,n++,t=document.querySelectorAll("#content-main p, #content-main ol, #content-main ul"),[].forEach.call(t,function(e){e.style.fontSize=o+"rem"}))}),document.getElementById("resize-minus").addEventListener("click",function(e){var t;n<=-2||(-3==n?o+=.095:o-=.095,n--,t=document.querySelectorAll("#content-main p, #content-main ol, #content-main ul"),[].forEach.call(t,function(e){e.style.fontSize=o+"rem"}))}))};function calculateSidebar(e){var t;window.matchMedia("(min-width: ".concat(e,"px)")).matches?null!=(e=document.getElementById("sidebar"))&&void 0!==e&&(0<document.getElementsByClassName("single").length&&(t=document.getElementById("the-post-content").offsetHeight),null!=e)&&void 0!==e&&(e.style.minHeight=t+"px"):null!=document.getElementById("sidebar")&&void 0!==document.getElementById("sidebar")&&(document.getElementById("sidebar").style.minHeight="auto")}function footerMargin(){var e=document.querySelector(".category-giveaways");null!=e&&void 0!==e||null!=document.querySelector(".site")&&void 0!==document.querySelector(".site")&&null!=document.getElementById("foot-wrap")&&void 0!==document.getElementById("foot-wrap")&&(document.querySelector(".site").style.marginBottom=document.getElementById("foot-wrap").clientHeight+"px")}function WidthChange(t){var n;window.addEventListener("resize",debounce(function(e){clearTimeout(n),n=setTimeout(function(){calculateSidebar(t),footerMargin()},75)},250))}var anchorScroll=function t(){var e=document.querySelectorAll("a[name]"),e=([].foreach.call(e,function(e){e.classList.add("anchor")}),document.querySelectorAll("#content-main a[href^=\\#]"));[].foreach.call(e,function(e){e.addEventListener("click",function(e){t.preventDefault(),e=e.target.getAttribute("href").replace("'","'").replace("#",""),document.querySelector('a[name="'+e+'"]'),document.getElementsByClassName("anchor").length})})};function catchAsideAd(){var e,t,n;0<document.getElementsByClassName("asideAd").length&&(e=document.getElementById("content-main"),(isAdjacent(".asideAd","img")||isAdjacent(".asideAd","figure")||isAdjacent(".asideAd","iframe")||isAdjacent(".asideAd",".video-container")||isAdjacent(".asideAd","center")||isAdjacent(".asideAd","center")||isAdjacent(".asideAd",".twitter-tweet")||isAdjacent(".asideAd",".twitter-block")||isAdjacent(".asideAd","h3"))&&(n=document.getElementById("asideAd"),t=e.querySelector("p:nth-of-type(2)"),n.parentNode.insertBefore(n,t)),isAdjacent(".asideAd","ol")||isAdjacent(".asideAd","ul"))&&(n=e.querySelectorAll("ul, ol"),[].forEach.call(n,function(e){e.classList.add("clearfix")}))}function sizeTable(){var c,e=document.querySelectorAll("table");doesExist(e)&&(c=1,ForEach(e,function(e){e.id="tab-".concat(c);var t=1/e.children[0].children[0].children.length*100,n=document.styleSheets[0],o=parseInt(window.getComputedStyle(e.parentNode).getPropertyValue("max-width"))/e.children[0].children[0].children.length,t="#tab-".concat(c," th, #tab-").concat(c," td { width: ").concat(t,"%; min-width: ").concat(o,"px;}");(o=document.createElement("div")).classList="table-wrap",e.parentNode.insertBefore(o,e),o.appendChild(e),n.insertRule(t,n.cssRules.length),c++}))}var carouselNav=function(){var t;null!=_typeof(document.getElementById("carousel-nav-controller"))&&null!=document.getElementById("carousel-nav-controller")&&(t=document.getElementById("carousel-nav-controller")).addEventListener("click",function(){var e=document.getElementById("carousel-nav");t.classList.add("is-active"),e.classList.add("is-active")})},lightBox=function(){var e=document.getElementsByClassName("lightbox_trigger");e&&void 0!==e&&[].forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault;var t,n=document.getElementById("lightbox"),o=e.target.getAttribute("src"),e=e.target.getAttribute("srcset")||e.target.getAttribute("src");null!=n&&void 0!==n?((t=document.createElement("img")).setAttribute("src",o),t.setAttribute("srcset",e),t.setAttribute("class","lightbox-view"),document.documentElement.classList.add("noscroll"),document.body.classList.add("noscroll"),document.getElementById("content").innerHTML=t):((n=document.createElement("div")).id="lightbox",n.classList.add("lightbox"),n.innerHTML='<p class="lightbox_p">Done</p><div id="lb_content" class="lightbox_box"><img class="lightbox_img" src="'+o+'" srcset="'+e+'"/></div>',document.body.appendChild(n),n.classList.add("lightbox-view")),n.addEventListener("click",function(e){n.classList.remove("lightbox-view"),document.body.classList.remove("noscroll"),n.remove(n)})})})},scrollListenerCallBacks=function(n){var o,c=document.getElementById("main-nav-cont"),e=document.getElementById("header-content"),l=document.querySelector(".parallax-move"),i=document.getElementById("social-share"),a=!!doesExist(document.getElementsByClassName("review_cta")[0])&&document.getElementsByClassName("review_cta")[0],r=window.pageYOffset||document.documentElement.scrollTop,t=(window.innerHeight,null!=e&&void 0!==e?e.offsetTop:0),s=doesExist(c)?t+1.5*c.clientHeight:0,d=null!=e&&void 0!==e?e.offsetTop+e.clientHeight:0,u=doesExist(document.getElementById("post-header"))?1.25*document.getElementById("post-header").clientHeight+document.getElementById("post-header").offsetTop:0,m=null!=document.getElementById("content-main")&&void 0!==document.getElementById("content-main")?document.getElementById("content-main").offsetTop+document.getElementById("content-main").clientHeight:1e3,f=null!=l&&void 0!==l,g=null!=i&&void 0!==i,y=!(!doesExist(document.querySelector(".single-format-video"))||!window.matchMedia("(max-width: 768px)").matches);window.addEventListener("scroll",function(){var e,t=o=window.pageYOffset||document.documentElement.scrollTop;g&&(t<m&&(i.classList.remove("fade-out"),i.classList.add("fade-in"),!1!==a)&&(a.classList.remove("fade-out"),a.classList.add("fade-in")),m<t)&&(i.classList.remove("fade-in"),i.classList.add("fade-out"),!1!==a)&&(a.classList.remove("fade-in"),a.classList.add("fade-out")),t=o,f&&(u<=t&&!(d<t)?l.style.opacity=1-.0014*(t-u):t<u&&(l.style.opacity=1)),null!=n&&n.trigger(),y&&(e=r,c.style.top=s<(t=o)&&e<t?"-64px":"0px"),r=o})};function anchorMapScroller(){var n,o,c,l,e;null!==document.querySelector("#contentmap")&&(n=document.querySelector("#contentmap"),o=document.querySelectorAll("a[name]"),c=o.length,l=!1,this.trigger=function(){for(var e,t=0;t<c;t++)80<=(e=(e=o[t]).getBoundingClientRect()).top&&e.bottom<=(.5*window.innerHeight||.5*document.documentElement.clientHeight)&&(0==t||!0!==l?(n.scrollTo(0,0),l=!0):(e=o[t-1].name.replace("'","'"),e=(e=n.querySelectorAll('[href="#'+e+'"]'))[0].offsetLeft+e[0].offsetWidth+20,n.scrollTo(e,0)))},doesExist(e=document.getElementById("comments-anchor")))&&e.addEventListener("click",function(e){e.preventDefault(),ct.createCommentComponent()})}function mobileMenuScrollFix(){var t=document.body,n=document.querySelector(".overlay-menu"),e=document.querySelectorAll("fly-but-wrap");[].forEach.call(e,function(e){e.addEventListener("click",function(){var e="fly-but-wrap"===this.className;n.setAttribute("aria-hidden",!e),t.classList.toggle("noscroll",e),n.scrollTop=0},!1)})}function rippleClick(){var e=document.querySelectorAll("button, .ripple, .alt-cat-post, .resizertriggers span, #search-button, .featured");[].forEach.call(e,function(l){l.addEventListener("click",function(e){var t=document.createElement("ins"),n=l.clientHeight,o=l.getBoundingClientRect(),c=e.clientY-o.top,e=e.clientX-o.left;t.classList.add("ripple-effect"),t.setAttribute("style","transform: translateZ(0); position: absolute; height: ".concat(n,"px; width: ").concat(n,"px; top: ").concat(c,"px; left: ").concat(e,"px;")),l.setAttribute("style","position: relative; overflow: hidden"),l.appendChild(t),window.setTimeout(function(){t.remove(t)},800)})})}function giveawayScroll(){var t,n,o=document.querySelector(".dragScroll"),c=!1;o.addEventListener("mousedown",function(e){c=!0,o.classList.add("active"),t=e.pageX-o.offsetLeft,n=o.scrollLeft}),o.addEventListener("mouseleave",function(){c=!1,o.classList.remove("active")}),o.addEventListener("mouseup",function(){c=!1,o.classList.remove("active")}),o.addEventListener("mousemove",function(e){c&&(e.preventDefault(),e=3*(e.pageX-o.offsetLeft-t),o.scrollLeft=n-e)})}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){return e=_toPrimitive(e,"string"),"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if(n=n.call(e,t||"default"),"object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}document.addEventListener("DOMContentLoaded",function(){var e;doesExist(e=function(){try{return(document.body.classList?Array.prototype.join.call(document.body.classList," "):"").match(/postid-[0-9]*/g)[0].split("-")[1]}catch(e){return null}}())&&function(e,t){var n,e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:"";null!==e&&""!==e&&null!==t&&""!==t&&(n={method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e,postID:t})},e=location.protocol+"//"+window.location.hostname+"/wp-json/chroma/cmevents/",fetch(e,n).then(function(e){return e.text()}).then(function(e){console.log(n.body+" | "+e)}).catch(function(e){return console.log("Event Error: "+e)}))}("post_views",e)});var scrollAnchors=_createClass(function e(){_classCallCheck(this,e),this.scrollFD=window.scroll,this.mobileOffset=window.matchMedia("(max-width: 414px)").matches?336:90,this.scrollOffset=window.innerHeight/1.05-115-this.mobileOffset},[{key:"init",value:function(){var e,n=this;null!=this.scrollFD&&void 0!==this.scrollFD&&(e=document.querySelectorAll(".anchor-nav__a, #contentmap a"),[].forEach.call(document.querySelectorAll("a[name]"),function(e){e.setAttribute("name",e.getAttribute("name").replace(" ","%20"))}),e.length<1||[].forEach.call(e,function(t){t.addEventListener("click",function(e){e.preventDefault(),e=document.querySelector('a[name="'.concat(t.getAttribute("href").replace("#",""),'"]')).offsetTop+n.scrollOffset,window.scroll({top:e,behavior:"smooth"})})}))}}]),initState={commentStatus:!1,commentAnimate:!1},store=Redux.createStore(commentsTracker,initState);function render(){console.log(store.getState().commentStatus),store.getState()}function commentsTracker(e,t){var n={commentStatus:e.commentStatus};return"commentOn"!==t.type?e:(n.commentStatus=!0,n)}store.subscribe(render);